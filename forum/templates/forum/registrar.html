{% load static %}

  {% include './head.html' %}
    <title>Регистрация пользователя</title>
  </head>

  <body> 
    <div class = "container-wd-100">
      <div class = "reg-bounds">
        <img class = "logo" src="{% static 'forum/img/django-forum-logo.png' %}">

        <form enctype="multipart/form-data" class="form-control" method="POST"> 
          {% csrf_token %}

          <div class = "form-group">
            <label for="avatar" class ="label-margin"> Аватарка: </label>
            <input type="file" class = "form-control {% if request.method == 'POST' %}{% if form.avatar.errors %} is-invalid {% else %} label-margin {% endif %}{% endif %}" id="avatar" name="avatar" accept="image/png, image/jpeg, image/gif">
            
            {% if request.method == 'POST' %}
              {% if form.avatar.errors %}
                <div id = "inv-avatar" class="invalid-feedback">{% for error in form.avatar.errors %} <p>{{ error }}</p> {% endfor %} </div>
              {% endif %}
            {% endif %}
          </div>
          
          <div class = "form-group">
            <label for="username" class = "label-margin">Ник пользователя: </label>
            <input type="text" name="username" id="username" class="form-control {% if request.method == 'POST' %}{% if form.username.errors %} is-invalid {% endif %}{% endif %}" placeholder="Введите ник пользователя">
            
            {% if request.method == 'POST' %}
              {% if form.username.errors %}
                <div id = "inv-username" class="invalid-feedback">{{ form.username.errors }}</div>
              {% endif %}
            {% endif %}
          </div>

          <div class = "form-group">
            <label for="first_name" class = "label-margin">Имя: </label>
            <input type="text" name="first_name" class="form-control" placeholder="Введите ваше имя">
          </div>

          <div class = "form-group">
            <label for="last_name" class = "label-margin">Фамилия: </label>
            <input type="text" name="last_name" class="form-control" placeholder="Введите вашу фамилию">
          </div>

          <div class = "form-group">
            <label for="email" class = "label-margin">Адрес электронной почты: </label>
            <input type="email" name="email" class="form-control {% if request.method == 'POST' %}{% if form.email.errors %} is-invalid {% endif %}{% endif %}" aria-describedby="emailHelp" placeholder="Введите ваш адрес электронной почты">
            
            {% if request.method == 'POST' %}
              {% if form.email.errors %}
                <div id = "inv-email" class="invalid-feedback">{{ form.email.errors }}</div>
              {% endif %}
            {% endif %}
          </div>

          <div class = "form-group">
            <label for="password" class = "label-margin">Пароль: </label>
            <input name="password" type="password" id="password" class="form-control" placeholder="(Минимум 8 символов)" required>
          </div>
          
          <button id = "register-button" type="submit" class="btn btn-lg btn-primary btn-block">Регистрация</button>
          
          <div style = "margin-top:3%;">
            <a href = "/">Вернуться на страницу входа</a>
          </div>

        </form>
      </div>
    </div>
  </body>
</html>
